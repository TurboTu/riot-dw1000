<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cpu/cortexm_common/vectors_cortexm.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="riot-logo.png"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">DecaRange RTLS ARM Application</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c433b04169c945a1c7f0848f853d4379.html">cpu</a></li><li class="navelem"><a class="el" href="dir_7addd8712ae950a23de5ceb1c6b88c82.html">cortexm_common</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">vectors_cortexm.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="vectors__cortexm_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2015 Freie Universit√§t Berlin</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This file is subject to the terms and conditions of the GNU Lesser</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * General Public License v2.1. See the file LICENSE in the top level</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * directory for more details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="stdio_8h.html">stdio.h</a>&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="inttypes_8h.html">inttypes.h</a>&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;cpu.h&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="kernel__init_8h.html">kernel_init.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;board.h&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpu_8h.html">mpu.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="panic_8h.html">panic.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vectors__cortexm_8h.html">vectors_cortexm.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#ifndef SRAM_BASE</span></div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="vectors__cortexm_8c.html#a05e8f3d2e5868754a7cd88614955aecc">   36</a></span>&#160;<span class="preprocessor">#define SRAM_BASE 0</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#a797d7617293913aabf29979f9355c069">_sfixed</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#aa55487a2e05bbec386ff62a79418827e">_efixed</a>;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#abba93927cdaa2d32967cfc724f47cf8f">_etext</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#ac50d147d186c5fcf7efa97a4197e530e">_srelocate</a>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#a59f8a39545ac1b9b88d4228c40c910b9">_erelocate</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#a5c6ed4fbf19b32595d4afb2c25aa8363">_szero</a>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#ad4c54e57daaa1859c4fd4208ed7d31fa">_ezero</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#ae588877090aec0bc36ee7c0ecf084ed4">_sstack</a>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#a69247aef56f755ef3b08265060dea50f">_estack</a>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#ac95f8fbba34882139601ee3759c0c931">_sram</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="vectors__cortexm_8c.html#aecab3eb3107ed90c22c94232eb32f4da">_eram</a>;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="vectors__cortexm_8c.html#acd29dc4f5a7f00454d08fd52a5a76518">   59</a></span>&#160;<a class="code" href="vectors__cortexm_8c.html#acd29dc4f5a7f00454d08fd52a5a76518">__attribute__</a>((used,section(<span class="stringliteral">&quot;.isr_stack&quot;</span>))) uint8_t isr_stack[<a class="code" href="boards_2qemu-i386_2include_2cpu__conf_8h.html#aa9a78f0a8d308d2d145cfe671c36ec8e">ISR_STACKSIZE</a>];</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<a class="code" href="struct____attribute____.html">__attribute__</a>((weak)) <span class="keywordtype">void</span> <a class="code" href="k60_2vectors_8c.html#aa8d9b8d7021dd2d5798312aa4611a6e9">pre_startup</a> (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="vectors__cortexm_8c.html#af9aace1b44b73111e15aa39f06f43456">   71</a></span>&#160;<a class="code" href="vectors__cortexm_8c.html#acd29dc4f5a7f00454d08fd52a5a76518">__attribute__</a>((weak)) <span class="keywordtype">void</span> post_startup (<span class="keywordtype">void</span>)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="vectors__cortexm_8c.html#a95f00b0d21003a40e8f742f54499335b">   75</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vectors__cortexm_8c.html#a95f00b0d21003a40e8f742f54499335b">reset_handler_default</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    uint32_t *dst;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    uint32_t *src = &amp;<a class="code" href="vectors__cortexm_8c.html#abba93927cdaa2d32967cfc724f47cf8f">_etext</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="k60_2vectors_8c.html#aa8d9b8d7021dd2d5798312aa4611a6e9">pre_startup</a>();</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#ifdef DEVELHELP</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    uint32_t *top;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">/* Fill stack space with canary values up until the current stack pointer */</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">/* Read current stack pointer from CPU register */</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    __asm__ <span class="keyword">volatile</span> (<span class="stringliteral">&quot;mov %[top], sp&quot;</span> : [top] <span class="stringliteral">&quot;=r&quot;</span> (top) : : );</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    dst = &amp;<a class="code" href="vectors__cortexm_8c.html#ae588877090aec0bc36ee7c0ecf084ed4">_sstack</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">while</span> (dst &lt; top) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        *(dst++) = <a class="code" href="group__cpu__cortexm__common.html#ga2f0d4a98f077a68bc8e4046d80b9027b">STACK_CANARY_WORD</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">/* load data section from flash to ram */</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">for</span> (dst = &amp;<a class="code" href="vectors__cortexm_8c.html#ac50d147d186c5fcf7efa97a4197e530e">_srelocate</a>; dst &lt; &amp;<a class="code" href="vectors__cortexm_8c.html#a59f8a39545ac1b9b88d4228c40c910b9">_erelocate</a>; ) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        *(dst++) = *(src++);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">/* default bss section to zero */</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">for</span> (dst = &amp;<a class="code" href="vectors__cortexm_8c.html#a5c6ed4fbf19b32595d4afb2c25aa8363">_szero</a>; dst &lt; &amp;<a class="code" href="vectors__cortexm_8c.html#ad4c54e57daaa1859c4fd4208ed7d31fa">_ezero</a>; ) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        *(dst++) = 0;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#ifdef MODULE_MPU_STACK_GUARD</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (((uintptr_t)&amp;<a class="code" href="vectors__cortexm_8c.html#ae588877090aec0bc36ee7c0ecf084ed4">_sstack</a>) != <a class="code" href="vectors__cortexm_8c.html#a05e8f3d2e5868754a7cd88614955aecc">SRAM_BASE</a>) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="mpu_8h.html#a400a800c40ddd023921603ae37867e25">mpu_configure</a>(</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            0,                                              <span class="comment">/* MPU region 0 */</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            (uintptr_t)&amp;<a class="code" href="vectors__cortexm_8c.html#ae588877090aec0bc36ee7c0ecf084ed4">_sstack</a> + 31,                       <span class="comment">/* Base Address (rounded up) */</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            MPU_ATTR(1, <a class="code" href="mpu_8h.html#a098384b0034af0daa7c9c5c82b563567af1dac3bb3db37e207037c3721879c016">AP_RO_RO</a>, 0, 1, 0, 1, <a class="code" href="mpu_8h.html#a92c4bd66c8074c3d126a069275a0a80cab6809eda968e7615ccdf53731ba7a195">MPU_SIZE_32B</a>) <span class="comment">/* Attributes and Size */</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        );</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="mpu_8h.html#a82823b017203f2e544abdbe54e07fc4a">mpu_enable</a>();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    post_startup();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">/* initialize the board (which also initiates CPU initialization) */</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="group__boards__airfy-beacon.html#ga916f2adc2080b4fe88034086d107a8dc">board_init</a>();</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#if MODULE_NEWLIB</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">/* initialize std-c library (this must be done after board_init) */</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="cpu_2atmega1281_2startup_8c.html#a5f388c8556f7cb6a84b5692db6b6ad80">__libc_init_array</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="cpu_2atmega1281_2startup_8c.html#a5f388c8556f7cb6a84b5692db6b6ad80">__libc_init_array</a>();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">/* startup the kernel */</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="group__core__internal.html#ga0dbe43a64cbf994bf9189e7767f93342">kernel_init</a>();</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="vectors__cortexm_8c.html#a7269f5376deb1089d73b07ee6768f7ec">  129</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vectors__cortexm_8c.html#a7269f5376deb1089d73b07ee6768f7ec">nmi_default</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="group__core__util.html#ga1f6114cc82aa8f5be5ebc2d601313c2f">core_panic</a>(PANIC_NMI_HANDLER, <span class="stringliteral">&quot;NMI HANDLER&quot;</span>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#ifdef DEVELHELP</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">/* The hard fault handler requires some stack space as a working area for local</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"> * variables and printf function calls etc. If the stack pointer is located</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"> * closer than HARDFAULT_HANDLER_REQUIRED_STACK_SPACE from the lowest address of</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"> * RAM we will reset the stack pointer to the top of available RAM.</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"> * Measured from trampoline entry to breakpoint:</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"> *  - Cortex-M0+ 344 Byte</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"> *  - Cortex-M4  344 Byte</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#define HARDFAULT_HANDLER_REQUIRED_STACK_SPACE          (344U)</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> _stack_size_left(uint32_t required)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    uint32_t* <a class="code" href="ucontext_8h.html#aa32094cd15e38739dd543b2da27da3ff">sp</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    __asm__ <span class="keyword">volatile</span> (<span class="stringliteral">&quot;mov %[sp], sp&quot;</span> : [<a class="code" href="ucontext_8h.html#aa32094cd15e38739dd543b2da27da3ff">sp</a>] <span class="stringliteral">&quot;=r&quot;</span> (<a class="code" href="ucontext_8h.html#aa32094cd15e38739dd543b2da27da3ff">sp</a>) : : );</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> ((<span class="keywordtype">int</span>)((uint32_t)sp - (uint32_t)&amp;<a class="code" href="vectors__cortexm_8c.html#ae588877090aec0bc36ee7c0ecf084ed4">_sstack</a>) - required);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keywordtype">void</span> hard_fault_handler(uint32_t* sp, uint32_t corrupted, uint32_t exc_return, uint32_t* r4_to_r11_stack);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">/* Trampoline function to save stack pointer before calling hard fault handler */</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<a class="code" href="vectors__cortexm_8c.html#acd29dc4f5a7f00454d08fd52a5a76518">__attribute__</a>((naked)) <span class="keywordtype">void</span> <a class="code" href="vectors__cortexm_8c.html#a1dc26d75107e0395d4949bc8d0feab9e">hard_fault_default</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">/* Get stack pointer where exception stack frame lies */</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    __asm__ <span class="keyword">volatile</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    (</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="comment">/* Check that msp is valid first because we want to stack all the</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">         * r4-r11 registers so that we can use r0, r1, r2, r3 for other things. */</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="stringliteral">&quot;mov r0, sp                         \n&quot;</span> <span class="comment">/* r0 = msp                   */</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="stringliteral">&quot;cmp r0, %[eram]                    \n&quot;</span> <span class="comment">/* if(msp &gt; &amp;_eram) {         */</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="stringliteral">&quot;bhi fix_msp                        \n&quot;</span> <span class="comment">/*   goto fix_msp }           */</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="stringliteral">&quot;cmp r0, %[sram]                    \n&quot;</span> <span class="comment">/* if(msp &lt;= &amp;_sram) {        */</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="stringliteral">&quot;bls fix_msp                        \n&quot;</span> <span class="comment">/*   goto fix_msp }           */</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="stringliteral">&quot;movs r1, #0                        \n&quot;</span> <span class="comment">/* else { corrupted = false   */</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="stringliteral">&quot;b   test_sp                        \n&quot;</span> <span class="comment">/*   goto test_sp     }       */</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="stringliteral">&quot; fix_msp:                          \n&quot;</span> <span class="comment">/*                            */</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="stringliteral">&quot;mov r1, %[estack]                  \n&quot;</span> <span class="comment">/*     r1 = _estack           */</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="stringliteral">&quot;mov sp, r1                         \n&quot;</span> <span class="comment">/*     sp = r1                */</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="stringliteral">&quot;movs r1, #1                        \n&quot;</span> <span class="comment">/*     corrupted = true       */</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="stringliteral">&quot; test_sp:                          \n&quot;</span> <span class="comment">/*                            */</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="stringliteral">&quot;movs r0, #4                        \n&quot;</span> <span class="comment">/* r0 = 0x4                   */</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="stringliteral">&quot;mov r2, lr                         \n&quot;</span> <span class="comment">/* r2 = lr                    */</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="stringliteral">&quot;tst r2, r0                         \n&quot;</span> <span class="comment">/* if(lr &amp; 0x4)               */</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="stringliteral">&quot;bne use_psp                        \n&quot;</span> <span class="comment">/* {                          */</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="stringliteral">&quot;mrs r0, msp                        \n&quot;</span> <span class="comment">/*   r0 = msp                 */</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="stringliteral">&quot;b out                              \n&quot;</span> <span class="comment">/* }                          */</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="stringliteral">&quot; use_psp:                          \n&quot;</span> <span class="comment">/* else {                     */</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="stringliteral">&quot;mrs r0, psp                        \n&quot;</span> <span class="comment">/*   r0 = psp                 */</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="stringliteral">&quot; out:                              \n&quot;</span> <span class="comment">/* }                          */</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="preprocessor">#if (__CORTEX_M == 0)</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="stringliteral">&quot;push {r4-r7}                       \n&quot;</span> <span class="comment">/* save r4..r7 to the stack   */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="stringliteral">&quot;mov r3, r8                         \n&quot;</span> <span class="comment">/*                            */</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="stringliteral">&quot;mov r4, r9                         \n&quot;</span> <span class="comment">/*                            */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="stringliteral">&quot;mov r5, r10                        \n&quot;</span> <span class="comment">/*                            */</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="stringliteral">&quot;mov r6, r11                        \n&quot;</span> <span class="comment">/*                            */</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="stringliteral">&quot;push {r3-r6}                       \n&quot;</span> <span class="comment">/* save r8..r11 to the stack  */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="stringliteral">&quot;push {r4-r11}                      \n&quot;</span> <span class="comment">/* save r4..r11 to the stack  */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="stringliteral">&quot;mov r3, sp                         \n&quot;</span> <span class="comment">/* r4_to_r11_stack parameter  */</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="stringliteral">&quot;bl hard_fault_handler              \n&quot;</span> <span class="comment">/* hard_fault_handler(r0)     */</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;          :</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;          : [sram]   <span class="stringliteral">&quot;r&quot;</span> (&amp;<a class="code" href="vectors__cortexm_8c.html#ac95f8fbba34882139601ee3759c0c931">_sram</a> + HARDFAULT_HANDLER_REQUIRED_STACK_SPACE),</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            [eram]   <span class="stringliteral">&quot;r&quot;</span> (&amp;<a class="code" href="vectors__cortexm_8c.html#aecab3eb3107ed90c22c94232eb32f4da">_eram</a>),</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            [estack] <span class="stringliteral">&quot;r&quot;</span> (&amp;<a class="code" href="vectors__cortexm_8c.html#a69247aef56f755ef3b08265060dea50f">_estack</a>)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;          : <span class="stringliteral">&quot;r0&quot;</span>,<span class="stringliteral">&quot;r4&quot;</span>,<span class="stringliteral">&quot;r5&quot;</span>,<span class="stringliteral">&quot;r6&quot;</span>,<span class="stringliteral">&quot;r8&quot;</span>,<span class="stringliteral">&quot;r9&quot;</span>,<span class="stringliteral">&quot;r10&quot;</span>,<span class="stringliteral">&quot;r11&quot;</span>,<span class="stringliteral">&quot;lr&quot;</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    );</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">#if (__CORTEX_M == 0)</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">/* Cortex-M0 and Cortex-M0+ lack the extended fault status registers found in</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"> * Cortex-M3 and above. */</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="preprocessor">#define CPU_HAS_EXTENDED_FAULT_REGISTERS 0</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#define CPU_HAS_EXTENDED_FAULT_REGISTERS 1</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<a class="code" href="vectors__cortexm_8c.html#acd29dc4f5a7f00454d08fd52a5a76518">__attribute__</a>((used)) <span class="keywordtype">void</span> hard_fault_handler(uint32_t* sp, uint32_t corrupted, uint32_t exc_return, uint32_t* r4_to_r11_stack)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;{</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">#if CPU_HAS_EXTENDED_FAULT_REGISTERS</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> uint32_t BFARVALID_MASK = (0x80 &lt;&lt; <a class="code" href="group___c_m_s_i_s___s_c_b.html#ga555a24f4f57d199f91d1d1ab7c8c3c8a">SCB_CFSR_BUSFAULTSR_Pos</a>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> uint32_t MMARVALID_MASK = (0x80 &lt;&lt; <a class="code" href="group___c_m_s_i_s___s_c_b.html#ga91f41491cec5b5acca3fbc94efbd799e">SCB_CFSR_MEMFAULTSR_Pos</a>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">/* Copy status register contents to local stack storage, this must be</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">     * done before any calls to other functions to avoid corrupting the</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">     * register contents. */</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    uint32_t bfar  = <a class="code" href="group___c_m_s_i_s__core__base.html#gaaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a>-&gt;BFAR;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    uint32_t mmfar = <a class="code" href="group___c_m_s_i_s__core__base.html#gaaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a>-&gt;MMFAR;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    uint32_t cfsr  = <a class="code" href="group___c_m_s_i_s__core__base.html#gaaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a>-&gt;CFSR;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    uint32_t hfsr  = <a class="code" href="group___c_m_s_i_s__core__base.html#gaaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a>-&gt;HFSR;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    uint32_t dfsr  = <a class="code" href="group___c_m_s_i_s__core__base.html#gaaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a>-&gt;DFSR;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    uint32_t afsr  = <a class="code" href="group___c_m_s_i_s__core__base.html#gaaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a>-&gt;AFSR;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">/* Initialize these variables even if they&#39;re never used uninitialized.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">     * Fixes wrong compiler warning by gcc &lt; 6.0. */</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    uint32_t pc = 0;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    uint32_t* orig_sp = <a class="code" href="std_impl_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">/* Check if the ISR stack overflowed previously. Not possible to detect</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">     * after output may also have overflowed it. */</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span>(*(&amp;<a class="code" href="vectors__cortexm_8c.html#ae588877090aec0bc36ee7c0ecf084ed4">_sstack</a>) != <a class="code" href="group__cpu__cortexm__common.html#ga2f0d4a98f077a68bc8e4046d80b9027b">STACK_CANARY_WORD</a>) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="cpu_2native_2syscalls_8c.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;\nISR stack overflowed&quot;</span>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">/* Sanity check stack pointer and give additional feedback about hard fault */</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span>(corrupted) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="cpu_2native_2syscalls_8c.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;Stack pointer corrupted, reset to top of stack&quot;</span>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        uint32_t  r0 = sp[0];</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        uint32_t  r1 = sp[1];</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        uint32_t  r2 = sp[2];</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        uint32_t  r3 = sp[3];</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        uint32_t r12 = sp[4];</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        uint32_t  lr = sp[5];  <span class="comment">/* Link register. */</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                  pc = sp[6];  <span class="comment">/* Program counter. */</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        uint32_t psr = sp[7];  <span class="comment">/* Program status register. */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">/* Reconstruct original stack pointer before fault occurred */</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        orig_sp = sp + 8;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">if</span> (psr &amp; <a class="code" href="group___c_m_s_i_s___s_c_b.html#ga33cf22d3d46af158a03aad25ddea1bcb">SCB_CCR_STKALIGN_Msk</a>) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="comment">/* Stack was not 8-byte aligned */</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            orig_sp += 1;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <a class="code" href="cpu_2native_2syscalls_8c.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;\nContext before hardfault:&quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">/* TODO: printf in ISR context might be a bad idea */</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot;   r0: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;               <span class="stringliteral">&quot;   r1: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;               <span class="stringliteral">&quot;   r2: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;               <span class="stringliteral">&quot;   r3: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span>,</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;               r0, r1, r2, r3);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot;  r12: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;               <span class="stringliteral">&quot;   lr: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;               <span class="stringliteral">&quot;   pc: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;               <span class="stringliteral">&quot;  psr: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n\n&quot;</span>,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;               r12, lr, pc, psr);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">#if CPU_HAS_EXTENDED_FAULT_REGISTERS</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="cpu_2native_2syscalls_8c.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;FSR/FAR:&quot;</span>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot; CFSR: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span>, cfsr);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot; HFSR: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span>, hfsr);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot; DFSR: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span>, dfsr);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot; AFSR: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span>, afsr);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span> (cfsr &amp; BFARVALID_MASK) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="comment">/* BFAR valid flag set */</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot; BFAR: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span>, bfar);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> (cfsr &amp; MMARVALID_MASK) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="comment">/* MMFAR valid flag set */</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot;MMFAR: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span>, mmfar);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="cpu_2native_2syscalls_8c.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;Misc&quot;</span>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot;EXC_RET: 0x%08&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span>, exc_return);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (!corrupted) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="cpu_2native_2syscalls_8c.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;Attempting to reconstruct state for debugging...&quot;</span>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot;In GDB:\n  set $pc=0x%&quot;</span> PRIx32 <span class="stringliteral">&quot;\n  frame 0\n  bt\n&quot;</span>, pc);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordtype">int</span> stack_left = _stack_size_left(HARDFAULT_HANDLER_REQUIRED_STACK_SPACE);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span>(stack_left &lt; 0) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <a class="code" href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a>(<span class="stringliteral">&quot;\nISR stack overflowed by at least %d bytes.\n&quot;</span>, (-1 * stack_left));</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        __asm__ <span class="keyword">volatile</span> (</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="stringliteral">&quot;mov r0, %[sp]\n&quot;</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="stringliteral">&quot;ldr r2, [r0, #8]\n&quot;</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="stringliteral">&quot;ldr r3, [r0, #12]\n&quot;</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="stringliteral">&quot;ldr r1, [r0, #16]\n&quot;</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="stringliteral">&quot;mov r12, r1\n&quot;</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="stringliteral">&quot;ldr r1, [r0, #20]\n&quot;</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="stringliteral">&quot;mov lr, r1\n&quot;</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="stringliteral">&quot;mov sp, %[orig_sp]\n&quot;</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="stringliteral">&quot;mov r1, %[extra_stack]\n&quot;</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#if (__CORTEX_M == 0)</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="stringliteral">&quot;ldm r1!, {r4-r7}\n&quot;</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="stringliteral">&quot;mov r8, r4\n&quot;</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="stringliteral">&quot;mov r9, r5\n&quot;</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="stringliteral">&quot;mov r10, r6\n&quot;</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="stringliteral">&quot;mov r11, r7\n&quot;</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="stringliteral">&quot;ldm r1!, {r4-r7}\n&quot;</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="stringliteral">&quot;ldm r1, {r4-r11}\n&quot;</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="stringliteral">&quot;ldr r1, [r0, #4]\n&quot;</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="stringliteral">&quot;ldr r0, [r0, #0]\n&quot;</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            :</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            : [<a class="code" href="ucontext_8h.html#aa32094cd15e38739dd543b2da27da3ff">sp</a>] <span class="stringliteral">&quot;r&quot;</span> (<a class="code" href="ucontext_8h.html#aa32094cd15e38739dd543b2da27da3ff">sp</a>),</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;              [orig_sp] <span class="stringliteral">&quot;r&quot;</span> (orig_sp),</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;              [extra_stack] <span class="stringliteral">&quot;r&quot;</span> (r4_to_r11_stack)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            : <span class="stringliteral">&quot;r0&quot;</span>,<span class="stringliteral">&quot;r1&quot;</span>,<span class="stringliteral">&quot;r2&quot;</span>,<span class="stringliteral">&quot;r3&quot;</span>,<span class="stringliteral">&quot;r12&quot;</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            );</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="group___c_m_s_i_s___core___instruction_interface.html#ga15ea6bd3c507d3e81c3b3a1258e46397">__BKPT</a>(1);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="group__core__util.html#ga1f6114cc82aa8f5be5ebc2d601313c2f">core_panic</a>(PANIC_HARD_FAULT, <span class="stringliteral">&quot;HARD FAULT HANDLER&quot;</span>);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="vectors__cortexm_8c.html#a1dc26d75107e0395d4949bc8d0feab9e">  335</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vectors__cortexm_8c.html#a1dc26d75107e0395d4949bc8d0feab9e">hard_fault_default</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="group__core__util.html#ga1f6114cc82aa8f5be5ebc2d601313c2f">core_panic</a>(PANIC_HARD_FAULT, <span class="stringliteral">&quot;HARD FAULT HANDLER&quot;</span>);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEVELHELP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">#if defined(CPU_ARCH_CORTEX_M3) || defined(CPU_ARCH_CORTEX_M4) || \</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="preprocessor">    defined(CPU_ARCH_CORTEX_M4F)</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="keywordtype">void</span> mem_manage_default(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;{</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="group__core__util.html#ga1f6114cc82aa8f5be5ebc2d601313c2f">core_panic</a>(PANIC_MEM_MANAGE, <span class="stringliteral">&quot;MEM MANAGE HANDLER&quot;</span>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="keywordtype">void</span> bus_fault_default(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="group__core__util.html#ga1f6114cc82aa8f5be5ebc2d601313c2f">core_panic</a>(PANIC_BUS_FAULT, <span class="stringliteral">&quot;BUS FAULT HANDLER&quot;</span>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="keywordtype">void</span> usage_fault_default(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="group__core__util.html#ga1f6114cc82aa8f5be5ebc2d601313c2f">core_panic</a>(PANIC_USAGE_FAULT, <span class="stringliteral">&quot;USAGE FAULT HANDLER&quot;</span>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="keywordtype">void</span> debug_mon_default(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="group__core__util.html#ga1f6114cc82aa8f5be5ebc2d601313c2f">core_panic</a>(PANIC_DEBUG_MON, <span class="stringliteral">&quot;DEBUG MON HANDLER&quot;</span>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="vectors__cortexm_8c.html#aec0a1d99da59ca06f2458d4f030211a7">  365</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vectors__cortexm_8c.html#aec0a1d99da59ca06f2458d4f030211a7">dummy_handler_default</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="group__core__util.html#ga1f6114cc82aa8f5be5ebc2d601313c2f">core_panic</a>(PANIC_DUMMY_HANDLER, <span class="stringliteral">&quot;DUMMY HANDLER&quot;</span>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="ttc" id="vectors__cortexm_8c_html_ac95f8fbba34882139601ee3759c0c931"><div class="ttname"><a href="vectors__cortexm_8c.html#ac95f8fbba34882139601ee3759c0c931">_sram</a></div><div class="ttdeci">uint32_t _sram</div></div>
<div class="ttc" id="group___c_m_s_i_s___core___instruction_interface_html_ga15ea6bd3c507d3e81c3b3a1258e46397"><div class="ttname"><a href="group___c_m_s_i_s___core___instruction_interface.html#ga15ea6bd3c507d3e81c3b3a1258e46397">__BKPT</a></div><div class="ttdeci">#define __BKPT(value)</div><div class="ttdoc">Breakpoint. </div><div class="ttdef"><b>Definition:</b> <a href="cmsis__armcc_8h_source.html#l00430">cmsis_armcc.h:430</a></div></div>
<div class="ttc" id="kernel__init_8h_html"><div class="ttname"><a href="kernel__init_8h.html">kernel_init.h</a></div><div class="ttdoc">prototypes for kernel intitialization </div></div>
<div class="ttc" id="k60_2vectors_8c_html_aa8d9b8d7021dd2d5798312aa4611a6e9"><div class="ttname"><a href="k60_2vectors_8c.html#aa8d9b8d7021dd2d5798312aa4611a6e9">pre_startup</a></div><div class="ttdeci">void pre_startup(void)</div><div class="ttdef"><b>Definition:</b> <a href="k60_2vectors_8c_source.html#l00039">vectors.c:39</a></div></div>
<div class="ttc" id="vectors__cortexm_8c_html_ac50d147d186c5fcf7efa97a4197e530e"><div class="ttname"><a href="vectors__cortexm_8c.html#ac50d147d186c5fcf7efa97a4197e530e">_srelocate</a></div><div class="ttdeci">uint32_t _srelocate</div></div>
<div class="ttc" id="mpu_8h_html"><div class="ttname"><a href="mpu_8h.html">mpu.h</a></div><div class="ttdoc">Cortex-M Memory Protection Unit (MPU) Driver Header File. </div></div>
<div class="ttc" id="mpu_8h_html_a92c4bd66c8074c3d126a069275a0a80cab6809eda968e7615ccdf53731ba7a195"><div class="ttname"><a href="mpu_8h.html#a92c4bd66c8074c3d126a069275a0a80cab6809eda968e7615ccdf53731ba7a195">MPU_SIZE_32B</a></div><div class="ttdef"><b>Definition:</b> <a href="mpu_8h_source.html#l00052">mpu.h:52</a></div></div>
<div class="ttc" id="group__cpu__cortexm__common_html_ga2f0d4a98f077a68bc8e4046d80b9027b"><div class="ttname"><a href="group__cpu__cortexm__common.html#ga2f0d4a98f077a68bc8e4046d80b9027b">STACK_CANARY_WORD</a></div><div class="ttdeci">#define STACK_CANARY_WORD</div><div class="ttdoc">Some members of the Cortex-M family have architecture specific atomic operations in atomic_arch...</div><div class="ttdef"><b>Definition:</b> <a href="cortexm__common_2include_2cpu_8h_source.html#l00060">cpu.h:60</a></div></div>
<div class="ttc" id="group__boards__airfy-beacon_html_ga916f2adc2080b4fe88034086d107a8dc"><div class="ttname"><a href="group__boards__airfy-beacon.html#ga916f2adc2080b4fe88034086d107a8dc">board_init</a></div><div class="ttdeci">void board_init(void)</div><div class="ttdoc">Initialize board specific hardware, including clock, LEDs and std-IO. </div><div class="ttdef"><b>Definition:</b> <a href="airfy-beacon_2board_8c_source.html#l00024">board.c:24</a></div></div>
<div class="ttc" id="boards_2qemu-i386_2include_2cpu__conf_8h_html_aa9a78f0a8d308d2d145cfe671c36ec8e"><div class="ttname"><a href="boards_2qemu-i386_2include_2cpu__conf_8h.html#aa9a78f0a8d308d2d145cfe671c36ec8e">ISR_STACKSIZE</a></div><div class="ttdeci">#define ISR_STACKSIZE</div><div class="ttdef"><b>Definition:</b> <a href="boards_2qemu-i386_2include_2cpu__conf_8h_source.html#l00033">cpu_conf.h:33</a></div></div>
<div class="ttc" id="struct____attribute_____html"><div class="ttname"><a href="struct____attribute____.html">__attribute__</a></div><div class="ttdef"><b>Definition:</b> <a href="dw1000__device__api_8h_source.html#l00215">dw1000_device_api.h:215</a></div></div>
<div class="ttc" id="cpu_2native_2syscalls_8c_html_ad41876f99f190c7488e64ef39c50a23f"><div class="ttname"><a href="cpu_2native_2syscalls_8c.html#ad41876f99f190c7488e64ef39c50a23f">puts</a></div><div class="ttdeci">int puts(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="cpu_2native_2syscalls_8c_source.html#l00253">syscalls.c:253</a></div></div>
<div class="ttc" id="vectors__cortexm_8c_html_aecab3eb3107ed90c22c94232eb32f4da"><div class="ttname"><a href="vectors__cortexm_8c.html#aecab3eb3107ed90c22c94232eb32f4da">_eram</a></div><div class="ttdeci">uint32_t _eram</div></div>
<div class="ttc" id="vectors__cortexm_8c_html_a59f8a39545ac1b9b88d4228c40c910b9"><div class="ttname"><a href="vectors__cortexm_8c.html#a59f8a39545ac1b9b88d4228c40c910b9">_erelocate</a></div><div class="ttdeci">uint32_t _erelocate</div></div>
<div class="ttc" id="vectors__cortexm_8c_html_a1dc26d75107e0395d4949bc8d0feab9e"><div class="ttname"><a href="vectors__cortexm_8c.html#a1dc26d75107e0395d4949bc8d0feab9e">hard_fault_default</a></div><div class="ttdeci">void hard_fault_default(void)</div><div class="ttdoc">Hard fault exception handler. </div><div class="ttdef"><b>Definition:</b> <a href="vectors__cortexm_8c_source.html#l00335">vectors_cortexm.c:335</a></div></div>
<div class="ttc" id="group___c_m_s_i_s___s_c_b_html_ga91f41491cec5b5acca3fbc94efbd799e"><div class="ttname"><a href="group___c_m_s_i_s___s_c_b.html#ga91f41491cec5b5acca3fbc94efbd799e">SCB_CFSR_MEMFAULTSR_Pos</a></div><div class="ttdeci">#define SCB_CFSR_MEMFAULTSR_Pos</div><div class="ttdef"><b>Definition:</b> <a href="core__cm3_8h_source.html#l00602">core_cm3.h:602</a></div></div>
<div class="ttc" id="vectors__cortexm_8c_html_a797d7617293913aabf29979f9355c069"><div class="ttname"><a href="vectors__cortexm_8c.html#a797d7617293913aabf29979f9355c069">_sfixed</a></div><div class="ttdeci">uint32_t _sfixed</div><div class="ttdoc">Memory markers, defined in the linker script. </div></div>
<div class="ttc" id="group__core__internal_html_ga0dbe43a64cbf994bf9189e7767f93342"><div class="ttname"><a href="group__core__internal.html#ga0dbe43a64cbf994bf9189e7767f93342">kernel_init</a></div><div class="ttdeci">void kernel_init(void)</div><div class="ttdoc">Initializes scheduler and creates main and idle task. </div><div class="ttdef"><b>Definition:</b> <a href="kernel__init_8c_source.html#l00081">kernel_init.c:81</a></div></div>
<div class="ttc" id="std_impl_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="std_impl_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="std_impl_8h_source.html#l00043">stdImpl.h:43</a></div></div>
<div class="ttc" id="vectors__cortexm_8c_html_a7269f5376deb1089d73b07ee6768f7ec"><div class="ttname"><a href="vectors__cortexm_8c.html#a7269f5376deb1089d73b07ee6768f7ec">nmi_default</a></div><div class="ttdeci">void nmi_default(void)</div><div class="ttdoc">Non-maskable interrupt handler. </div><div class="ttdef"><b>Definition:</b> <a href="vectors__cortexm_8c_source.html#l00129">vectors_cortexm.c:129</a></div></div>
<div class="ttc" id="vectors__cortexm_8c_html_a05e8f3d2e5868754a7cd88614955aecc"><div class="ttname"><a href="vectors__cortexm_8c.html#a05e8f3d2e5868754a7cd88614955aecc">SRAM_BASE</a></div><div class="ttdeci">#define SRAM_BASE</div><div class="ttdef"><b>Definition:</b> <a href="vectors__cortexm_8c_source.html#l00036">vectors_cortexm.c:36</a></div></div>
<div class="ttc" id="group___c_m_s_i_s__core__base_html_gaaaf6477c2bde2f00f99e3c2fd1060b01"><div class="ttname"><a href="group___c_m_s_i_s__core__base.html#gaaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a></div><div class="ttdeci">#define SCB</div><div class="ttdef"><b>Definition:</b> <a href="core__cm0_8h_source.html#l00587">core_cm0.h:587</a></div></div>
<div class="ttc" id="inttypes_8h_html"><div class="ttname"><a href="inttypes_8h.html">inttypes.h</a></div><div class="ttdoc">Adds include for missing inttype definitions. </div></div>
<div class="ttc" id="group___c_m_s_i_s___s_c_b_html_ga555a24f4f57d199f91d1d1ab7c8c3c8a"><div class="ttname"><a href="group___c_m_s_i_s___s_c_b.html#ga555a24f4f57d199f91d1d1ab7c8c3c8a">SCB_CFSR_BUSFAULTSR_Pos</a></div><div class="ttdeci">#define SCB_CFSR_BUSFAULTSR_Pos</div><div class="ttdef"><b>Definition:</b> <a href="core__cm3_8h_source.html#l00599">core_cm3.h:599</a></div></div>
<div class="ttc" id="stdio_8h_html"><div class="ttname"><a href="stdio_8h.html">stdio.h</a></div><div class="ttdoc">stdio.h wrapper for MSP430 </div></div>
<div class="ttc" id="mpu_8h_html_a400a800c40ddd023921603ae37867e25"><div class="ttname"><a href="mpu_8h.html#a400a800c40ddd023921603ae37867e25">mpu_configure</a></div><div class="ttdeci">int mpu_configure(uint_fast8_t region, uintptr_t base, uint_fast32_t attr)</div><div class="ttdoc">configure the base address and attributes for an MPU region </div><div class="ttdef"><b>Definition:</b> <a href="mpu_8c_source.html#l00056">mpu.c:56</a></div></div>
<div class="ttc" id="pll__freq_8m_html_a9a95eca22a70333f9ea42672239eb55e"><div class="ttname"><a href="pll__freq_8m.html#a9a95eca22a70333f9ea42672239eb55e">printf</a></div><div class="ttdeci">printf(&quot;%d,&quot;, PLL_INT0(i:1:i+3))</div></div>
<div class="ttc" id="mpu_8h_html_a82823b017203f2e544abdbe54e07fc4a"><div class="ttname"><a href="mpu_8h.html#a82823b017203f2e544abdbe54e07fc4a">mpu_enable</a></div><div class="ttdeci">int mpu_enable(void)</div><div class="ttdoc">enable the MPU </div><div class="ttdef"><b>Definition:</b> <a href="mpu_8c_source.html#l00035">mpu.c:35</a></div></div>
<div class="ttc" id="ucontext_8h_html_aa32094cd15e38739dd543b2da27da3ff"><div class="ttname"><a href="ucontext_8h.html#aa32094cd15e38739dd543b2da27da3ff">sp</a></div><div class="ttdeci">unsigned long sp</div><div class="ttdef"><b>Definition:</b> <a href="ucontext_8h_source.html#l00125">ucontext.h:125</a></div></div>
<div class="ttc" id="panic_8h_html"><div class="ttname"><a href="panic_8h.html">panic.h</a></div><div class="ttdoc">Crash handling header. </div></div>
<div class="ttc" id="vectors__cortexm_8c_html_acd29dc4f5a7f00454d08fd52a5a76518"><div class="ttname"><a href="vectors__cortexm_8c.html#acd29dc4f5a7f00454d08fd52a5a76518">__attribute__</a></div><div class="ttdeci">__attribute__((used, section(&quot;.isr_stack&quot;)))</div><div class="ttdoc">Allocation of the interrupt stack. </div><div class="ttdef"><b>Definition:</b> <a href="vectors__cortexm_8c_source.html#l00059">vectors_cortexm.c:59</a></div></div>
<div class="ttc" id="vectors__cortexm_8c_html_a69247aef56f755ef3b08265060dea50f"><div class="ttname"><a href="vectors__cortexm_8c.html#a69247aef56f755ef3b08265060dea50f">_estack</a></div><div class="ttdeci">uint32_t _estack</div></div>
<div class="ttc" id="cpu_2atmega1281_2startup_8c_html_a5f388c8556f7cb6a84b5692db6b6ad80"><div class="ttname"><a href="cpu_2atmega1281_2startup_8c.html#a5f388c8556f7cb6a84b5692db6b6ad80">__libc_init_array</a></div><div class="ttdeci">void __libc_init_array(void)</div></div>
<div class="ttc" id="mpu_8h_html_a098384b0034af0daa7c9c5c82b563567af1dac3bb3db37e207037c3721879c016"><div class="ttname"><a href="mpu_8h.html#a098384b0034af0daa7c9c5c82b563567af1dac3bb3db37e207037c3721879c016">AP_RO_RO</a></div><div class="ttdef"><b>Definition:</b> <a href="mpu_8h_source.html#l00045">mpu.h:45</a></div></div>
<div class="ttc" id="vectors__cortexm_8c_html_a95f00b0d21003a40e8f742f54499335b"><div class="ttname"><a href="vectors__cortexm_8c.html#a95f00b0d21003a40e8f742f54499335b">reset_handler_default</a></div><div class="ttdeci">void reset_handler_default(void)</div><div class="ttdoc">This function is the default entry point after a system reset. </div><div class="ttdef"><b>Definition:</b> <a href="vectors__cortexm_8c_source.html#l00075">vectors_cortexm.c:75</a></div></div>
<div class="ttc" id="group__core__util_html_ga1f6114cc82aa8f5be5ebc2d601313c2f"><div class="ttname"><a href="group__core__util.html#ga1f6114cc82aa8f5be5ebc2d601313c2f">core_panic</a></div><div class="ttdeci">NORETURN void core_panic(core_panic_t crash_code, const char *message)</div><div class="ttdoc">Handle an unrecoverable error by halting or rebooting the system. </div><div class="ttdef"><b>Definition:</b> <a href="core_2panic_8c_source.html#l00048">panic.c:48</a></div></div>
<div class="ttc" id="vectors__cortexm_8c_html_ae588877090aec0bc36ee7c0ecf084ed4"><div class="ttname"><a href="vectors__cortexm_8c.html#ae588877090aec0bc36ee7c0ecf084ed4">_sstack</a></div><div class="ttdeci">uint32_t _sstack</div></div>
<div class="ttc" id="vectors__cortexm_8c_html_aa55487a2e05bbec386ff62a79418827e"><div class="ttname"><a href="vectors__cortexm_8c.html#aa55487a2e05bbec386ff62a79418827e">_efixed</a></div><div class="ttdeci">uint32_t _efixed</div></div>
<div class="ttc" id="vectors__cortexm_8c_html_aec0a1d99da59ca06f2458d4f030211a7"><div class="ttname"><a href="vectors__cortexm_8c.html#aec0a1d99da59ca06f2458d4f030211a7">dummy_handler_default</a></div><div class="ttdeci">void dummy_handler_default(void)</div><div class="ttdoc">Default handler used as weak alias for not implemented ISR vectors. </div><div class="ttdef"><b>Definition:</b> <a href="vectors__cortexm_8c_source.html#l00365">vectors_cortexm.c:365</a></div></div>
<div class="ttc" id="vectors__cortexm_8c_html_abba93927cdaa2d32967cfc724f47cf8f"><div class="ttname"><a href="vectors__cortexm_8c.html#abba93927cdaa2d32967cfc724f47cf8f">_etext</a></div><div class="ttdeci">uint32_t _etext</div></div>
<div class="ttc" id="vectors__cortexm_8c_html_ad4c54e57daaa1859c4fd4208ed7d31fa"><div class="ttname"><a href="vectors__cortexm_8c.html#ad4c54e57daaa1859c4fd4208ed7d31fa">_ezero</a></div><div class="ttdeci">uint32_t _ezero</div></div>
<div class="ttc" id="group___c_m_s_i_s___s_c_b_html_ga33cf22d3d46af158a03aad25ddea1bcb"><div class="ttname"><a href="group___c_m_s_i_s___s_c_b.html#ga33cf22d3d46af158a03aad25ddea1bcb">SCB_CCR_STKALIGN_Msk</a></div><div class="ttdeci">#define SCB_CCR_STKALIGN_Msk</div><div class="ttdef"><b>Definition:</b> <a href="core__cm0_8h_source.html#l00474">core_cm0.h:474</a></div></div>
<div class="ttc" id="vectors__cortexm_8c_html_a5c6ed4fbf19b32595d4afb2c25aa8363"><div class="ttname"><a href="vectors__cortexm_8c.html#a5c6ed4fbf19b32595d4afb2c25aa8363">_szero</a></div><div class="ttdeci">uint32_t _szero</div></div>
<div class="ttc" id="vectors__cortexm_8h_html"><div class="ttname"><a href="vectors__cortexm_8h.html">vectors_cortexm.h</a></div><div class="ttdoc">Default interrupt vectors shared by Cortex-M based CPUs. </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 15 2017 18:56:59 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
