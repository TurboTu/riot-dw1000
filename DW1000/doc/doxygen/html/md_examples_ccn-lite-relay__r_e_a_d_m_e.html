<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CCN-Lite on RIOT</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="riot-logo.png"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">DecaRange RTLS ARM Application</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">CCN-Lite on RIOT </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This application demonstrates how to use the Content-Centric Networking stack from <a href="http://www.ccn-lite.net/">CCN-Lite</a> on RIOT. In the current state you can use only one packet format, <code>ndn2013</code>, and only relay over the link-layer (Ethernet, IEEE~802.15.4 or what else is supported by your network device).</p>
<h2>The shell commands</h2>
<p>RIOT provides three shell to interact with the CCN-Lite stack:</p><ul>
<li><code>ccnl_int</code> - generates and sends out an Interest. The command expects one mandatory and one optional parameter. The first parameter specifies the exact name (or a prefix) to request, the second parameter specifies the link-layer address of the relay to use. If the second parameter is omitted, the Interest will be broadcasted. You may call it like this: <code>ccnl_int /riot/peter/schmerzl b6:e5:94:26:ab:da</code></li>
<li><code>ccnl_cont</code> - generates and populates content. The command expects one mandatory and one optional parameter. The first parameter specifies the name of the content to be created, the second parameter specifies the content itself. The second parameter may include spaces, e.g. you can call: <code>ccnl_cont /riot/peter/schmerzl Hello World! Hello RIOT!</code></li>
<li><code>ccnl_fib</code> - modifies the FIB or shows its current state. If the command is called without parameters, it will print the current state of the FIB. It can also be called with the action parameters <code>add</code> or <code>del</code> to add or delete an entry from the FIB, e.g. <code>ccnl_fib add /riot/peter/schmerzl ab:cd:ef:01:23:45:67:89</code> will add an entry for <code>/riot/peter/schmerzl</code> with <code>ab:cd:ef:01:23:45:67:89</code> as a next hop and <code>ccnl_fib del /riot/peter/schmerzl</code> will remove the entry for <code>/riot/peter/schmerzl</code> and <code>ccnl_fib del ab:cd:ef:01:23:45:67:89</code> will remove all entries with <code>ab:cd:ef:01:23:45:67:89</code> as a next hop.</li>
</ul>
<h2>Example setup</h2>
<p>An example usage of this application could be setup like this:</p><ol type="1">
<li>Open a terminal window, navigate to the RIOT directory, and enter <code>dist/tools/tapsetup/tapsetup -c</code>.</li>
<li>Open a second terminal window and navigate to this directory in both of windows.</li>
<li>Call <code>make -B clean all term</code> in the first terminal and <code>PORT=tap1 make term</code> in the second one.</li>
<li>Enter <code>ccnl_cont /riot/peter/schmerzl Hello World! Hello RIOT!</code> on the first terminal.</li>
<li>Add a FIB entry for this prefix on the second node, e.g. using the broadcast address: <code>ccnl_fib add /riot/peter/schmerzl ff:ff:ff:ff:ff:ff</code></li>
<li>Enter <code>ccnl_int /riot/peter/schmerzl</code> in the second terminal.</li>
<li>See the content being displayed. Be happy!</li>
</ol>
<h2>Makefile configuration</h2>
<p>The ccn-lite package provides several configuration options through defines that can be set in the application Makefile. The following options are mandatory for now:</p><ul>
<li><code>CFLAGS += -DUSE_LINKLAYER</code> - use CCN directly over the link layer</li>
<li><code>CFLAGS += -DCCNL_UAPI_H_</code> - tell ccn-lite to use the UAPI</li>
<li><code>CFLAGS += -DUSE_SUITE_NDNTLV</code> - use NDNTLV packet format</li>
<li><code>CFLAGS += -DNEEDS_PREFIX_MATCHING</code> - enables prefix matching</li>
<li><code>CFLAGS += -DNEEDS_PACKET_CRAFTING</code> - enable userspace packet creation Here's a list of some additional interesting options:</li>
<li><code>CFLAGS += -DUSE_RONR</code> - enable Reactive Optimistic Name-based Routing (RONR)</li>
<li><code>CFLAGS += -DUSE_STATS</code> - enable statistics</li>
<li><code>CFLAGS += -DUSE_DUP_CHECK</code> - enable duplicate checks when forwarding</li>
<li><code>CFLAGS += -DUSE_HMAC256</code> - HMAC256 signed packets for CCNx1.0 encoding</li>
</ul>
<h2>Wireshark dissector</h2>
<p>One can use the Wireshark dissector from the named-data project (<a href="https://github.com/named-data/ndn-tools/tree/master/tools/dissect-wireshark">https://github.com/named-data/ndn-tools/tree/master/tools/dissect-wireshark</a>) for analyzing the traffic in Wireshark.</p>
<p>However, please note, that - in order to be compatible with the default CCN-Lite upstream configuration - a different Ethertype (<code>0x0801</code> instead of <code>0x8624</code>) is used.</p>
<p>The simplest way to get this working is to copy the <code>ndn.lua</code> file into your local Wireshark plugin directory (e.g. <code>$HOME/.wireshark/plugins</code>) and update <a href="https://github.com/named-data/ndn-tools/blob/master/tools/dissect-wireshark/ndn.lua#L424">https://github.com/named-data/ndn-tools/blob/master/tools/dissect-wireshark/ndn.lua#L424</a> to `0x0801). </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 15 2017 18:50:47 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
