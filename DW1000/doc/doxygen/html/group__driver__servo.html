<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Servo Motor Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="riot-logo.png"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">DecaRange RTLS ARM Application</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Servo Motor Driver</div>  </div>
</div><!--header-->
<div class="contents">

<p>High-level driver for servo motors.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:servo_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="servo_8h.html">servo.h</a></td></tr>
<tr class="memdesc:servo_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">High-level driver for easy handling of servo motors. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:servo_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="servo_8c.html">servo.c</a></td></tr>
<tr class="memdesc:servo_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Servo motor driver implementation. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structservo__t.html">servo_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descriptor struct for a servo.  <a href="structservo__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad326f97ac3642e01ad0a3054c4151913"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__driver__servo.html#gad326f97ac3642e01ad0a3054c4151913">servo_init</a> (<a class="el" href="structservo__t.html">servo_t</a> *<a class="el" href="tests_2periph__spi_2main_8c.html#ad55ecfacc43495fef791d8c2eec7a002">dev</a>, <a class="el" href="group__drivers__periph__pwm.html#gaf674d044ecd48b9b4b38e84cbf208c4f">pwm_t</a> pwm, int pwm_channel, unsigned int min, unsigned int max)</td></tr>
<tr class="memdesc:gad326f97ac3642e01ad0a3054c4151913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a servo motor by assigning it a PWM device and channel.  <a href="#gad326f97ac3642e01ad0a3054c4151913">More...</a><br /></td></tr>
<tr class="separator:gad326f97ac3642e01ad0a3054c4151913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9699200b8598ba5a2c47eaca0c83575"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__driver__servo.html#gab9699200b8598ba5a2c47eaca0c83575">servo_set</a> (<a class="el" href="structservo__t.html">servo_t</a> *<a class="el" href="tests_2periph__spi_2main_8c.html#ad55ecfacc43495fef791d8c2eec7a002">dev</a>, unsigned int pos)</td></tr>
<tr class="memdesc:gab9699200b8598ba5a2c47eaca0c83575"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the servo motor to a specified position.  <a href="#gab9699200b8598ba5a2c47eaca0c83575">More...</a><br /></td></tr>
<tr class="separator:gab9699200b8598ba5a2c47eaca0c83575"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>High-level driver for servo motors. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad326f97ac3642e01ad0a3054c4151913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad326f97ac3642e01ad0a3054c4151913">&#9670;&nbsp;</a></span>servo_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int servo_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structservo__t.html">servo_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__pwm.html#gaf674d044ecd48b9b4b38e84cbf208c4f">pwm_t</a>&#160;</td>
          <td class="paramname"><em>pwm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pwm_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a servo motor by assigning it a PWM device and channel. </p>
<p>Digital servos are controlled by regular pulses sent to them. The width of a pulse determines the position of the servo. A pulse width of 1.5ms puts the servo in the center position, a pulse width of about 1.0ms and about 2.0ms put the servo to the maximum angles. These values can however differ slightly from servo to servo, so the min and max values are parameterized in the init function.</p>
<p>The servo is initialized with default PWM values:</p><ul>
<li>frequency: 100Hz (10ms interval)</li>
<li>resolution: 10000 (1000 steps per ms)</li>
</ul>
<p>These default values can be changed by setting SERVO_RESOLUTION and SERVO_FREQUENCY macros. Caution: When initializing a servo, the PWM device will be reconfigured to new frequency/resolution values. It is however fine to use multiple servos with the same PWM device, just on different channels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dev</td><td>struct describing the servo </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pwm</td><td>the PWM device the servo is connected to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pwm_channel</td><td>the PWM channel the servo is connected to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min</td><td>minimum pulse width (in the resolution range) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>maximum pulse width (in the resolution range)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd>
<dd>
&lt;0 on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="servo_8c_source.html#l00038">38</a> of file <a class="el" href="servo_8c_source.html">servo.c</a>.</p>

</div>
</div>
<a id="gab9699200b8598ba5a2c47eaca0c83575"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9699200b8598ba5a2c47eaca0c83575">&#9670;&nbsp;</a></span>servo_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void servo_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structservo__t.html">servo_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the servo motor to a specified position. </p>
<p>The position of the servo is specified in the pulse width that controls the servo. With default configurations, a value of 1500 means a pulse width of 1.5 ms, which is the center position on most servos.</p>
<p>In case pos is larger/smaller then the max/min values, pos will be set to these values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>the servo to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>the position to set the servo (in the resolution range) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="servo_8c_source.html#l00091">91</a> of file <a class="el" href="servo_8c_source.html">servo.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 15 2017 18:57:49 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
