<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Layered PM Infrastructure</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="riot-logo.png"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">DecaRange RTLS ARM Application</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Layered PM Infrastructure</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:pm__layered_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pm__layered_8h.html">pm_layered.h</a></td></tr>
<tr class="memdesc:pm__layered_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Layered low power mode infrastructure. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:sys_2pm__layered_2pm_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_2pm__layered_2pm_8c.html">pm.c</a></td></tr>
<tr class="memdesc:sys_2pm__layered_2pm_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Platform-independent power management code. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga16d32d993acc74e60c71831923b1e3c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__pm__layered.html#ga16d32d993acc74e60c71831923b1e3c0">pm_block</a> (unsigned <a class="el" href="tests_2periph__spi_2main_8c.html#a500c16f7901299002158783745bc1ab0">mode</a>)</td></tr>
<tr class="memdesc:ga16d32d993acc74e60c71831923b1e3c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block a power mode.  <a href="#ga16d32d993acc74e60c71831923b1e3c0">More...</a><br /></td></tr>
<tr class="separator:ga16d32d993acc74e60c71831923b1e3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4e842ffd42d7fe93eb8d8c978a3b82e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__pm__layered.html#gae4e842ffd42d7fe93eb8d8c978a3b82e">pm_unblock</a> (unsigned <a class="el" href="tests_2periph__spi_2main_8c.html#a500c16f7901299002158783745bc1ab0">mode</a>)</td></tr>
<tr class="memdesc:gae4e842ffd42d7fe93eb8d8c978a3b82e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unblock a power mode.  <a href="#gae4e842ffd42d7fe93eb8d8c978a3b82e">More...</a><br /></td></tr>
<tr class="separator:gae4e842ffd42d7fe93eb8d8c978a3b82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga704936361595d126eb49c5c81063c104"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__pm__layered.html#ga704936361595d126eb49c5c81063c104">pm_set</a> (unsigned <a class="el" href="tests_2periph__spi_2main_8c.html#a500c16f7901299002158783745bc1ab0">mode</a>)</td></tr>
<tr class="memdesc:ga704936361595d126eb49c5c81063c104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switches the MCU to a new power mode.  <a href="#ga704936361595d126eb49c5c81063c104">More...</a><br /></td></tr>
<tr class="separator:ga704936361595d126eb49c5c81063c104"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module provides a base infrastructure that MCU's may use to implement periph/pm.</p>
<p>This simple power management interface is based on the following assumptions:</p>
<ul>
<li>CPUs define up to 4 power modes (from zero, the lowest power mode, to PM_NUM_MODES-1, the highest)</li>
<li>there is an implicit extra idle mode (which has the number PM_NUM_MODES)</li>
<li>individual power modes can be blocked/unblocked, e.g., by peripherals</li>
<li>if a mode is blocked, so are implicitly all lower modes</li>
<li>the idle thread automatically selects and sets the lowest unblocked mode</li>
</ul>
<p>In order to use this module, you'll need to implement <a class="el" href="group__sys__pm__layered.html#ga704936361595d126eb49c5c81063c104" title="Switches the MCU to a new power mode. ">pm_set()</a>. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga16d32d993acc74e60c71831923b1e3c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16d32d993acc74e60c71831923b1e3c0">&#9670;&nbsp;</a></span>pm_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pm_block </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Block a power mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>power mode to block </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sys_2pm__layered_2pm_8c_source.html#l00072">72</a> of file <a class="el" href="sys_2pm__layered_2pm_8c_source.html">pm.c</a>.</p>

</div>
</div>
<a id="ga704936361595d126eb49c5c81063c104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga704936361595d126eb49c5c81063c104">&#9670;&nbsp;</a></span>pm_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pm_set </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switches the MCU to a new power mode. </p>
<p>This function will be called by <a class="el" href="group__drivers__periph__pm.html#ga3cfb539da19d37887bd65c15f9ac1342">pm_set_lowest()</a> after determining the lowest non-blocked mode.</p>
<p>It needs to be implemented for each MCU using this module.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Target power mode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The current PM implementation is very much simplified down to only using the 'WAIT' mode. This implementation must be further expanded to make use of the available and more efficient (deep) sleep modes of the Kinetis CPUs. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpu_2kinetis__common_2periph_2pm_8c_source.html#l00034">34</a> of file <a class="el" href="cpu_2kinetis__common_2periph_2pm_8c_source.html">pm.c</a>.</p>

</div>
</div>
<a id="gae4e842ffd42d7fe93eb8d8c978a3b82e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4e842ffd42d7fe93eb8d8c978a3b82e">&#9670;&nbsp;</a></span>pm_unblock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pm_unblock </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unblock a power mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>power mode to unblock </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sys_2pm__layered_2pm_8c_source.html#l00081">81</a> of file <a class="el" href="sys_2pm__layered_2pm_8c_source.html">pm.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 15 2017 18:57:50 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
